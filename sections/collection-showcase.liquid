{{ 'collection-showcase.css' | asset_url | stylesheet_tag }}

<section class="collection-showcase">
  <div class="showcase-container">
    
    {%- comment -%} Navigation Buttons {%- endcomment -%}
    <nav class="showcase-nav">
      {%- for i in (1..4) -%}
        {%- assign button_label = 'button_' | append: i | append: '_label' -%}
        {%- assign button_url = 'button_' | append: i | append: '_url' -%}
        {%- assign button_active = 'button_' | append: i | append: '_active' -%}
        
        {%- if section.settings[button_label] != blank -%}
          <a 
            href="{{ section.settings[button_url] | default: '#' }}"
            class="showcase-nav-button{% if section.settings[button_active] %} active{% endif %}"
          >
            {{ section.settings[button_label] }}
          </a>
        {%- endif -%}
      {%- endfor -%}
    </nav>

    {%- comment -%} Product/Collection Cards Grid {%- endcomment -%}
    <div class="showcase-grid">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'card' -%}
            <a 
              href="{{ block.settings.card_url | default: '#' }}" 
              class="showcase-card"
              {{ block.shopify_attributes }}
            >
              <div class="showcase-card-image">
                {%- if block.settings.card_image != blank -%}
                  <img 
                    src="{{ block.settings.card_image | image_url: width: 800 }}"
                    alt="{{ block.settings.card_title | escape }}"
                    loading="lazy"
                    width="800"
                    height="1000"
                  >
                {%- else -%}
                  <div class="showcase-card-placeholder">
                    {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
                  </div>
                {%- endif -%}
              </div>
              <h3 class="showcase-card-title">{{ block.settings.card_title }}</h3>
            </a>
        {%- endcase -%}
      {%- endfor -%}
    </div>

  </div>
</section>

{% schema %}
{
  "name": "Collection Showcase",
  "tag": "section",
  "class": "section-collection-showcase",
  "settings": [
    {
      "type": "header",
      "content": "Bouton 1"
    },
    {
      "type": "text",
      "id": "button_1_label",
      "label": "Libellé",
      "default": "Élégance"
    },
    {
      "type": "url",
      "id": "button_1_url",
      "label": "Lien (collection ou page)"
    },
    {
      "type": "checkbox",
      "id": "button_1_active",
      "label": "État actif",
      "default": false
    },
    {
      "type": "header",
      "content": "Bouton 2"
    },
    {
      "type": "text",
      "id": "button_2_label",
      "label": "Libellé",
      "default": "Féminité"
    },
    {
      "type": "url",
      "id": "button_2_url",
      "label": "Lien (collection ou page)"
    },
    {
      "type": "checkbox",
      "id": "button_2_active",
      "label": "État actif",
      "default": false
    },
    {
      "type": "header",
      "content": "Bouton 3"
    },
    {
      "type": "text",
      "id": "button_3_label",
      "label": "Libellé",
      "default": "Luxe discret"
    },
    {
      "type": "url",
      "id": "button_3_url",
      "label": "Lien (collection ou page)"
    },
    {
      "type": "checkbox",
      "id": "button_3_active",
      "label": "État actif",
      "default": false
    },
    {
      "type": "header",
      "content": "Bouton 4"
    },
    {
      "type": "text",
      "id": "button_4_label",
      "label": "Libellé",
      "default": "Couture"
    },
    {
      "type": "url",
      "id": "button_4_url",
      "label": "Lien (collection ou page)"
    },
    {
      "type": "checkbox",
      "id": "button_4_active",
      "label": "État actif",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "card",
      "name": "Carte collection",
      "settings": [
        {
          "type": "image_picker",
          "id": "card_image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "card_title",
          "label": "Titre",
          "default": "Ivoire"
        },
        {
          "type": "url",
          "id": "card_url",
          "label": "Lien (collection ou produit)"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Collection Showcase",
      "blocks": [
        {
          "type": "card",
          "settings": {
            "card_title": "Ivoire"
          }
        },
        {
          "type": "card",
          "settings": {
            "card_title": "Champagne"
          }
        },
        {
          "type": "card",
          "settings": {
            "card_title": "Noir"
          }
        }
      ]
    }
  ]
}
{% endschema %}
