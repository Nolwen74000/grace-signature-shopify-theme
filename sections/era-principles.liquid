<style>
  .era-principles {
    background-color: hsl(40 20% 98%);
    padding: 6rem 2rem;
  }

  @media (min-width: 768px) {
    .era-principles {
      padding: 8rem 4rem;
    }
  }

  @media (min-width: 1024px) {
    .era-principles {
      padding: 10rem 6rem;
    }
  }

  @media (min-width: 1280px) {
    .era-principles {
      padding: 10rem 8rem;
    }
  }

  .era-principles__container {
    max-width: 48rem;
    margin: 0 auto;
  }

  .era-principles__header {
    padding-top: 4rem;
    border-top: 1px solid hsl(35 10% 88%);
  }

  .era-principles__label {
    color: hsl(30 5% 45%);
    font-size: 0.75rem;
    font-family: 'Inter', sans-serif;
    font-weight: 300;
    letter-spacing: 0.3em;
    text-transform: uppercase;
    margin-bottom: 3rem;
  }

  .era-principles__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 3rem;
  }

  @media (min-width: 768px) {
    .era-principles__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  .era-principle {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .era-principle.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .era-principle:nth-child(1) { transition-delay: 0s; }
  .era-principle:nth-child(2) { transition-delay: 0.1s; }
  .era-principle:nth-child(3) { transition-delay: 0.2s; }
  .era-principle:nth-child(4) { transition-delay: 0.3s; }

  .era-principle__number {
    display: block;
    color: hsl(30 5% 45% / 0.4);
    font-size: 0.75rem;
    font-family: 'Inter', sans-serif;
    font-weight: 300;
    margin-bottom: 0.75rem;
  }

  .era-principle__title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.25rem;
    font-weight: 300;
    letter-spacing: 0.05em;
    color: hsl(0 0% 8%);
    margin: 0 0 0.75rem 0;
  }

  .era-principle__description {
    font-family: 'Inter', sans-serif;
    font-size: 0.875rem;
    font-weight: 300;
    line-height: 1.625;
    letter-spacing: 0.02em;
    color: hsl(30 5% 45%);
    margin: 0;
  }
</style>

<section class="era-principles">
  <div class="era-principles__container">
    <div class="era-principles__header">
      <p class="era-principles__label">{{ section.settings.section_label }}</p>

      <div class="era-principles__grid">
        {% for block in section.blocks %}
          <div class="era-principle animate-on-scroll" {{ block.shopify_attributes }}>
            <span class="era-principle__number">{{ block.settings.number }}</span>
            <h3 class="era-principle__title">{{ block.settings.title }}</h3>
            <p class="era-principle__description">{{ block.settings.description }}</p>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.era-principle.animate-on-scroll').forEach(el => {
      observer.observe(el);
    });
  });
</script>

{% schema %}
{
  "name": "ERA Principes",
  "tag": "section",
  "class": "era-principles-section",
  "settings": [
    {
      "type": "text",
      "id": "section_label",
      "label": "Titre de section",
      "default": "Principes ERA"
    }
  ],
  "blocks": [
    {
      "type": "principle",
      "name": "Principe",
      "settings": [
        {
          "type": "text",
          "id": "number",
          "label": "Numéro",
          "default": "01"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titre",
          "default": "Essentiel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "Des pièces qui répondent à la vraie vie, pas aux tendances."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "ERA Principes",
      "blocks": [
        {
          "type": "principle",
          "settings": {
            "number": "01",
            "title": "Essentiel",
            "description": "Des pièces qui répondent à la vraie vie, pas aux tendances."
          }
        },
        {
          "type": "principle",
          "settings": {
            "number": "02",
            "title": "Liberté",
            "description": "S'habiller sans effort, avec la certitude d'être soi."
          }
        },
        {
          "type": "principle",
          "settings": {
            "number": "03",
            "title": "Intemporel",
            "description": "Des silhouettes qui traversent le temps, sans date de péremption."
          }
        },
        {
          "type": "principle",
          "settings": {
            "number": "04",
            "title": "Quotidien",
            "description": "Travail, enfants, mouvement — pensé pour la femme active."
          }
        }
      ]
    }
  ]
}
{% endschema %}
